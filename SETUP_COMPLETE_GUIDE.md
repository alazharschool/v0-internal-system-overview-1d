# ๐ ุฏููู ุงูุฅุนุฏุงุฏ ุงููุงูู ููุธุงู ุงูุฃุฒูุฑ ููุชุนููู ุนู ุจุนุฏ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุตูุงุญ ุฌููุน ูุดุงูู ุงูุงุชุตุงู ุจู Supabase ูุชูุญูุฏ ุงูุชูููู. ูุฐุง ุงูุฏููู ููุถุญ ุงูุฎุทูุงุช ุงููุชุจููุฉ ูุฅููุงู ุงูุฅุนุฏุงุฏ.

---

## โ ูุง ุชู ุฅุตูุงุญู

### 1. **ุชุญุฏูุซ URL ุงููุดุฑูุน**
- ุชู ุชุญุฏูุซ ุฌููุน ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุงุณุชุฎุฏุงู ุงููุดุฑูุน ุงูุตุญูุญ: `qnviacuxtivlwblmtete`
- ุชู ุชูุญูุฏ `NEXT_PUBLIC_SUPABASE_URL` ู `SUPABASE_URL` ูุชููู ูุชุทุงุจูุฉ

### 2. **ุฅูุดุงุก SQL Script ููุฌุฏุงูู ุงูููููุฏุฉ**
- ุชู ุฅูุดุงุก `scripts/02-create-missing-tables.sql` ุงูุฐู ูุญุชูู ุนูู:
  - ุฌุฏูู `students` (30 ุทุงูุจ ุชุฌุฑูุจู)
  - ุฌุฏูู `teachers` (5 ูุนูููู)
  - ุฌุฏูู `classes` (50 ุญุตุฉ)
  - ุฌุฏูู `trial_classes` (10 ุญุตุต ุชุฌุฑูุจูุฉ)

### 3. **ุชุญุฏูุซ Supabase Client**
- ุชู ุงูุชุฃูุฏ ูู ุฃู ุฌููุน ุงูู clients ุชุณุชุฎุฏู ููุณ ุงูุชูููู

---

## ๐ง ุงูุฎุทูุงุช ุงููุทููุจุฉ ุงูุขู

### **ุงูุฎุทูุฉ 1: ุชุดุบูู SQL Script ูู Supabase**

1. ุงูุชุญ **Supabase Dashboard**:
   ```
   https://supabase.com/dashboard/project/qnviacuxtivlwblmtete
   ```

2. ุงุฐูุจ ุฅูู **SQL Editor** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

3. ุงูุณุฎ ูุญุชูู ุงูููู `scripts/02-create-missing-tables.sql` ูุงูุตูู ูู ุงูู SQL Editor

4. ุงุถุบุท ุนูู **Run** ูุชูููุฐ ุงูู SQL

5. ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ ูุฌุงุญ ุชููุฏ ุจุฅูุดุงุก ุงูุฌุฏุงูู:
   ```
   โ ุฅูุดุงุก ุงูุฌุฏุงูู ุงูููููุฏุฉ ุชู ุจูุฌุงุญ!
   โ Created students table with 30 records
   โ Created teachers table with 5 records
   โ Created classes table with 50 records
   โ Created trial_classes table with 10 records
   ```

---

### **ุงูุฎุทูุฉ 2: ุฅูุดุงุก ุญุณุงุจ Admin**

#### **ุงูุทุฑููุฉ 1: ุนุจุฑ Supabase Dashboard (ุงูููุตู ุจูุง)**

1. ุงูุชุญ **Supabase Dashboard** โ **Authentication** โ **Users**
   ```
   https://supabase.com/dashboard/project/qnviacuxtivlwblmtete/auth/users
   ```

2. ุงุถุบุท ุนูู **Add user** โ **Create new user**

3. ุงููุฃ ุงูุจูุงูุงุช:
   - **Email**: `admin@alazhar.school`
   - **Password**: `mbanora1983`
   - โ ุถุน ุนูุงูุฉ ุนูู **Auto Confirm User**

4. ุงุถุบุท **Create user**

5. ุจุนุฏ ุงูุฅูุดุงุกุ ุงุถุบุท ุนูู ุงููุณุชุฎุฏู ูุชุนุฏููู

6. ูู ูุณู **Raw User Meta Data**ุ ุฃุถู:
   ```json
   {
     "role": "admin",
     "is_admin": true
   }
   ```

7. ุงุญูุธ ุงูุชุบููุฑุงุช

#### **ุงูุทุฑููุฉ 2: ุฅุฐุง ูุงู ูุฏูู Service Role Key**

ุฅุฐุง ูุงู ูุฏูู `SUPABASE_SERVICE_ROLE_KEY`:

1. ุงูุชุญ `.env.local`
2. ุฃุถู ุงูููุชุงุญ:
   ```
   SUPABASE_SERVICE_ROLE_KEY=YOUR_SERVICE_ROLE_KEY_HERE
   ```
3. ุงุฐูุจ ุฅูู `http://localhost:3000/admin-setup`
4. ุณูุชู ุฅูุดุงุก ุงูู Admin ุชููุงุฆูุงู

---

### **ุงูุฎุทูุฉ 3: ุชุณุฌูู ุงูุฏุฎูู**

1. ุงูุชุญ ุงูุชุทุจูู: `http://localhost:3000/login`

2. ุงุณุชุฎุฏู ุจูุงูุงุช ุงูุฏุฎูู:
   - **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: `admin@alazhar.school`
   - **ูููุฉ ุงููุฑูุฑ**: `mbanora1983`

3. ูุฌุจ ุฃู ุชูุฌุญ ุนูููุฉ ุงูุฏุฎูู ูุชูุชูู ุฅูู Dashboard

---

## ๐ ุงูุชุญูู ูู ูุฌุงุญ ุงูุฅุนุฏุงุฏ

ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ูุฌุจ ุฃู ุชุฑู ูู Dashboard:

- โ **Total Students**: 30
- โ **Total Teachers**: 5
- โ **Daily Classes**: ุนุฏุฏ ุงูุญุตุต ุงููุฌุฏููุฉ ููููู
- โ **Trial Classes**: ุนุฏุฏ ุงูุญุตุต ุงูุชุฌุฑูุจูุฉ

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### **ูุดููุฉ: "Invalid login credentials"**

**ุงูุณุจุจ**: ุญุณุงุจ Admin ุบูุฑ ููุฌูุฏ ูู Supabase Auth

**ุงูุญู**: ุงุชุจุน ุงูุฎุทูุฉ 2 ุฃุนูุงู ูุฅูุดุงุก ุญุณุงุจ Admin

---

### **ูุดููุฉ: "Could not find the table 'public.students'"**

**ุงูุณุจุจ**: ุงูุฌุฏุงูู ูู ูุชู ุฅูุดุงุคูุง ุจุนุฏ

**ุงูุญู**: ุงุชุจุน ุงูุฎุทูุฉ 1 ุฃุนูุงู ูุชุดุบูู SQL Script

---

### **ูุดููุฉ: "Failed to fetch"**

**ุงูุณุจุจ**: URL ุฎุงุทุฆ ูู `.env.local`

**ุงูุญู**: ุชุฃูุฏ ูู ุฃู `.env.local` ูุญุชูู ุนูู:
```
NEXT_PUBLIC_SUPABASE_URL=https://qnviacuxtivlwblmtete.supabase.co
```

---

## ๐ ุฎุทูุงุช ูุง ุจุนุฏ ุงูุฅุนุฏุงุฏ

ุจุนุฏ ูุฌุงุญ ุชุณุฌูู ุงูุฏุฎููุ ููููู:

1. โ ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุทูุงุจ ูู `/students`
2. โ ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงููุนูููู ูู `/teachers`
3. โ ุฌุฏููุฉ ุญุตุต ุฌุฏูุฏุฉ ูู `/schedule`
4. โ ุฌุฏููุฉ ุญุตุต ุชุฌุฑูุจูุฉ ูู `/trial-classes`
5. โ ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช ูู `/payments`

---

## ๐ ุงูุฏุนู ุงูููู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุชุญูู ูู console ูู ุงููุชุตูุญ (F12)
2. ุชุญูู ูู logs ูู Supabase Dashboard
3. ุชุฃูุฏ ูู ุฃู ุฌููุน ุงูุฌุฏุงูู ููุฌูุฏุฉ ูู **Database** โ **Tables**

---

## ๐ ููุงุญุธุงุช ุฃูููุฉ

- โ๏ธ **ูุง ุชุดุงุฑู** `SUPABASE_SERVICE_ROLE_KEY` ูุน ุฃู ุดุฎุต
- โ๏ธ **ูุง ุชุถุน** Service Role Key ูู ุงูููุฏ ุงูุฎุงุต ุจุงููุชุตูุญ (Client-side)
- โ **ุงุณุชุฎุฏู** Service Role Key ููุท ูู Server-side code ุฃู API routes

---

**ุชู ุงูุฅุนุฏุงุฏ ุจูุฌุงุญ! ๐**
